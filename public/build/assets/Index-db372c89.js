import{fk as y,fl as b,fp as F,fJ as z,r as A,o as s,c as a,fn as _,fo as e,u as t,_ as v,hC as x,ft as g,a as S,fq as D,fr as E,fV as M}from"./vee-validate-i18n.esm-1e13155f.js";import{i as H}from"./isMobile-b3e8a064.js";import{y as C,V as N}from"./vue-multiselect.esm-6989bf67.js";import{u as R}from"./tenant-store-2d1db6d0.js";import{_ as P}from"./Spinner-767c0c24.js";import U from"./404-35276d5c.js";import{_ as J,b as Y,a as G}from"./mobilemenu-f6d2a798.js";import"./_plugin-vue_export-helper-c27b6911.js";function K(c){const f=C(),u=R(),{getSelectedByUrl:p}=N(u),n=y(null),r=y(!1),i=y(!1),k=()=>{if(i.value)return;i.value=!0;const l=p.value(c);if(l){n.value=l,r.value=!0,i.value=!1;return}u.fetchTenantByUrl(c).then(()=>{n.value=p.value(c),r.value=!0}).catch(()=>r.value=!1).finally(()=>setTimeout(()=>i.value=!1,500))},m=l=>{f.push({name:"tenant.product",params:{tenantSlug:c,productSlug:l}})};return b(()=>k()),{data:n,found:r,loading:i,onHandleSelectedProduct:m}}const O={id:"nt_wrapper"},Q={id:"nt_content"},W={class:"root-wrapper tenant-page-for-mobile-wrapper"},X={class:"page-wrapper"},Z={class:"fixed-header"},ee={class:"d-flex justify-content-center align-items-center"},te={class:"header-action-wrapper"},se={key:1,class:"d-flex justify-content-center align-items-center text__header fs-icon-size",href:"javascript:void(0)",onclick:"doLogout.apply(this, arguments)"},ne=e("div",{class:"spacing-wrapper"},null,-1),oe={class:"user-information"},ae={class:"info__wrapper"},ce={class:"d-flex w-100 align-items-center m-2"},ie={key:0},re={key:1},le={key:1,class:"content-wrapper"},de={key:0,class:"inner-content-wrapper"},_e={class:"shop-logo d-block"},ue={class:"intrinsic w-100 h-100"},pe=["src","alt"],fe={class:"shop-name"},me={class:"badge-text"},he={class:"ml-2 text-content"},ve={class:"shop-location-wrapper"},ge={class:"ml-2 text-content"},ye={class:"content-product px-3 mt-4"},ke={class:"row no-gutters"},we={class:"product-wrapper"},xe=["onClick"],Se=["src","alt"],be={class:"card-body p-2 d-flex flex-column"},Ce={class:"product-description fs-sm"},$e={__name:"Index",props:{slug:{type:[String,null],required:!0,default:null}},setup(c){const f=c,u=C(),p=F(()=>f.slug),{data:n,found:r,loading:i,onHandleSelectedProduct:k}=K(p.value),m=y(null),l=()=>{var d;const w=window.scrollY>200?"add":"remove";(d=m.value)==null||d.classList[w]("sticky-top")},V=()=>{if(!v.user){x();return}return u.push({name:"landing.transaction"})};return b(()=>document.addEventListener("scroll",l)),z(()=>document.removeEventListener("scroll",l)),(w,d)=>{var $,B,T,I,L,j;const h=A("FontAwesomeIcon");return s(),a("div",O,[_(J),e("div",Q,[e("div",W,[e("div",X,[e("header",Z,[e("div",{class:"button-wrapper",onClick:d[0]||(d[0]=o=>w.$router.push({name:"landing.home"}))},[e("div",ee,[_(h,{icon:["fas","arrow-left"]})])]),e("div",te,[e("a",{class:"d-flex justify-content-center align-items-center text__header fs-icon-size",onClick:V},[_(h,{icon:["fas","cart-shopping"]})]),t(v).user?(s(),a("a",se,[_(h,{icon:["fas","arrow-right-from-bracket"]})])):(s(),a("a",{key:0,class:"d-flex justify-content-center align-items-center text__header fs-icon-size",onClick:d[1]||(d[1]=(...o)=>t(x)&&t(x)(...o))},[_(h,{icon:["fas","arrow-right-to-bracket"]})]))])]),ne,e("div",oe,[e("div",ae,[e("div",ce,[t(v).user?(s(),a("span",re,"Halo, "+g(t(v).user.name),1)):(s(),a("span",ie,"Anda belum login."))])])])]),t(i)?(s(),S(P,{key:0,class:"mt-5"})):(s(),a("div",le,[t(r)?(s(),a("div",de,[e("div",{ref_key:"needSticky",ref:m,class:"tenant-information-wrapper"},[e("div",_e,[e("div",ue,[e("img",{src:(B=($=t(n))==null?void 0:$.logo)==null?void 0:B.thumb,alt:(T=t(n))==null?void 0:T.name,class:"tenant-logo"},null,8,pe)])]),e("div",fe,[e("div",me,[e("div",he,g((I=t(n))==null?void 0:I.name),1)]),e("div",ve,[e("div",ge,g((L=t(n))==null?void 0:L.short_location),1)])])],512),e("div",ye,[e("div",ke,[(s(!0),a(D,null,E((j=t(n))==null?void 0:j.products,(o,q)=>(s(),a("div",{key:q,class:"col-6"},[e("div",we,[e("div",{class:"card border shadow-sm rounded-lg",onClick:Be=>t(k)(o.slug)},[e("img",{src:o==null?void 0:o.images[0],alt:o.product_name},null,8,Se),e("div",be,[e("div",Ce,g(o==null?void 0:o.description),1)])],8,xe)])]))),128))])])])):(s(),S(U,{key:1,class:"px-3"}))])),_(Y),_(G)])])])}}};const ze={__name:"Index",props:{slug:{type:[String,null],required:!0,default:null}},setup(c){const f=c,u=C(),p=M(f,"slug"),n=F(()=>!H(window.navigator).phone||H(window.navigator).tablet);return b(()=>n.value?u.push({name:"landing.home"}):null),(r,i)=>(s(),S($e,{slug:p.value},null,8,["slug"]))}};export{ze as default};
