import{fl as v,fB as D,hj as T,r as I,c as _,fp as e,fu as u,fr as V,fs as j,fo as x,gT as P,o as p,gW as E,gX as F,gY as N}from"./vee-validate-i18n.esm-2681c40c.js";import{W as R,y as A,V as C}from"./vue-multiselect.esm-3fb3c5c8.js";import{_ as H}from"./ModalForm-803994c5.js";import"./CropperImage-b1fc698f.js";const K=R("product-store",{state:()=>({items:{}}),getters:{getSelectedByUrl:o=>l=>o.items[l]||!1},actions:{setItemByUrl(o,l){this.items[o]=l}}}),L={class:"section-body"},W={class:"section-title fs-lg"},$={class:"section-lead"},q={class:"row"},M={class:"col-12"},X={class:"d-flex align-items-start flex-wrap flex-sm-nowrap"},Y=["src","alt"],z={class:"flex-1 ml-0 ml-sm-3 d-flex flex-column"},G={class:"fw-500"},J={class:"action d-flex align-items-center mt-3"},te={__name:"Detail",props:{slug:{type:[String,null],required:!0}},setup(o){const l=o,y=A(),t=v(null),n=D(l,"slug"),d=K(),{getSelectedByUrl:h}=C(d),m=v(!1),g=v({}),S=()=>y.push({name:"settings.product"}),b=()=>{h.value(n.value)||E.get(F("backend.product.get",{search:n.value,columns:"url",fetch_first:!0})).then(s=>{var a;return d.setItemByUrl(n.value,(a=s.data)==null?void 0:a.data)}).catch(s=>{var a,i;N.fire({title:"Terjadi Kesalahan",text:((i=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:i.message)||"Data product tidak ditemukan",icon:"error",timer:5e3,timerProgressBar:!0,confirmButtonText:"Kembali"}).then(({isConfirmed:r,dismiss:c})=>{(r||c=="timer")&&S()})}).finally(()=>k()),t.value=h.value(n.value)},B=()=>{g.value=t.value,m.value=!0},w=f=>{d.setItemByUrl(n.value,f),b()},k=T(()=>{t.value||b()});return(f,s)=>{var i,r;const a=I("FontAwesomeIcon");return p(),_("div",L,[e("h2",W,u((i=t.value)==null?void 0:i.product_name),1),e("p",$,u((r=t.value)==null?void 0:r.short_location),1),e("div",q,[e("div",M,[e("div",X,[(p(!0),_(V,null,j(t.value.images,(c,U)=>(p(),_("div",{key:U,class:"mr-3"},[e("img",{src:c,alt:`Logo ${t.value.product_name}`,width:"150",height:"150",style:{"object-fit":"cover"}},null,8,Y)]))),128)),e("div",z,[e("div",null,u(t.value.description),1),e("div",G,u(t.value.tenant_name),1)])]),e("div",J,[e("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-info btn-icon mr-2",onClick:B},[x(a,{icon:["fas","edit"],class:"mr-1"}),P(" Ubah ")])])])]),x(H,{visible:m.value,"onUpdate:visible":s[0]||(s[0]=c=>m.value=c),"init-data":g.value,"is-edit":"",onSubmit:w},null,8,["visible","init-data"])])}}};export{te as default};
