import{r as c,fX as C,fH as H,j as I,e as E,f as t,fB as p,fx as r,fV as k,b as N,hn as R,ho as $,hp as q}from"./vee-validate-i18n.esm-8795b5a9.js";import{C as A,X as F}from"./vue-multiselect.esm-5ac34b22.js";import{u as K}from"./tenant-store-a48f7959.js";import{_ as Q}from"./IframeModal-3dd1e453.js";import{_ as X}from"./ModalForm-266b2ecc.js";import"./UploadingImageTenant-8bd98e2e.js";import"./CropperImage-bc84b991.js";const L={class:"section-body"},M={class:"section-title fs-lg"},P={class:"section-lead"},z={class:"row"},G={class:"col-12"},J={class:"d-flex align-items-start flex-wrap flex-sm-nowrap"},O=["src","alt"],W={class:"flex-1 ml-0 ml-sm-3"},Y={class:"action d-flex align-items-center mt-3"},le={__name:"Detail",props:{slug:{type:[String,null],required:!0}},setup(B){const T=B,y=A(),a=c(null),n=C(T,"slug"),u=K(),{getSelectedByUrl:_}=F(u),m=c(!1),d=c(!1),h=c({}),w=()=>y.push({name:"settings.tenant"}),b=()=>{_.value(n.value)||R.get($("backend.tenant.get",{search:n.value,columns:"url",fetch_first:!0})).then(e=>{var s;return u.setItemByUrl(n.value,(s=e.data)==null?void 0:s.data)}).catch(e=>{var s,o;q.fire({title:"Terjadi Kesalahan",text:((o=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:o.message)||"Data tenant tidak ditemukan",icon:"error",timer:5e3,timerProgressBar:!0,confirmButtonText:"Kembali"}).then(({isConfirmed:l,dismiss:i})=>{(l||i=="timer")&&w()})}).finally(()=>j()),a.value=_.value(n.value)},D=()=>{h.value=a.value,m.value=!0},U=f=>{u.setItemByUrl(n.value,f),b()},V=()=>{d.value=!0},j=H(()=>{a.value||b()});return(f,e)=>{var o,l,i,g,x,S;const s=I("FontAwesomeIcon");return N(),E("div",L,[t("h2",M,p((o=a.value)==null?void 0:o.name),1),t("p",P,p((l=a.value)==null?void 0:l.short_location),1),t("div",z,[t("div",G,[t("div",J,[t("img",{src:(g=(i=a.value)==null?void 0:i.logo)==null?void 0:g.thumb,alt:`Logo ${(x=a.value)==null?void 0:x.name}`},null,8,O),t("div",W,p((S=a.value)==null?void 0:S.description),1)]),t("div",Y,[t("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-info btn-icon mr-2",onClick:D},[r(s,{icon:["fas","edit"],class:"mr-1"}),k(" Ubah ")]),t("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-primary btn-icon",onClick:V},[r(s,{icon:["fas","qrcode"],class:"mr-1"}),k(" Tampilkan Qrcode ")])])])]),r(X,{visible:m.value,"onUpdate:visible":e[0]||(e[0]=v=>m.value=v),"init-data":h.value,"is-edit":"",onSubmit:U},null,8,["visible","init-data"]),r(Q,{visible:d.value,"onUpdate:visible":e[1]||(e[1]=v=>d.value=v),slug:n.value},null,8,["visible","slug"])])}}};export{le as default};
