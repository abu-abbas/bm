import{fk as f,fV as I,fz as P,r as j,c as _,fo as t,ft as i,fq as A,fr as E,fn as S,fS as F,o as v,hn as N,ho as R,hp as U}from"./vee-validate-i18n.esm-a7fc52c1.js";import{A as q,X as C}from"./vue-multiselect.esm-0a551888.js";import{u as H}from"./product-store-a81f3fbe.js";import{_ as K}from"./ModalForm-ff98e718.js";import"./CropperImage-f9371739.js";const L={class:"section-body"},$={class:"section-title fs-lg"},z={class:"section-lead"},M={class:"row"},X={class:"col-12"},G={class:"d-flex align-items-start flex-wrap flex-sm-nowrap"},J=["src","alt"],O={class:"flex-1 ml-0 ml-sm-3 d-flex flex-column"},Q={class:"fw-500"},W={class:"action d-flex align-items-center mt-3"},at={__name:"Detail",props:{slug:{type:[String,null],required:!0}},setup(k){const w=k,y=q(),e=f(null),c=I(w,"slug"),r=H(),{getSelectedByUrl:p}=C(r),u=f(!1),h=f({}),B=()=>y.push({name:"settings.product"}),g=()=>{p.value(c.value)||N.get(R("backend.product.get",{search:c.value,columns:"url",fetch_first:!0})).then(s=>{var a;return r.setItem((a=s.data)==null?void 0:a.data)}).catch(s=>{var a,o;U.fire({title:"Terjadi Kesalahan",text:((o=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:o.message)||"Data product tidak ditemukan",icon:"error",timer:5e3,timerProgressBar:!0,confirmButtonText:"Kembali"}).then(({isConfirmed:n,dismiss:l})=>{(n||l=="timer")&&B()})}),e.value=p.value(c.value)},D=()=>{h.value=e.value,u.value=!0},T=d=>{r.setItem(d),g()};return P(()=>{e.value||g()}),(d,s)=>{var o,n,l,b,x;const a=j("FontAwesomeIcon");return v(),_("div",L,[t("h2",$,i((o=e.value)==null?void 0:o.product_name),1),t("p",z,i((n=e.value)==null?void 0:n.short_location),1),t("div",M,[t("div",X,[t("div",G,[(v(!0),_(A,null,E((l=e.value)==null?void 0:l.images,(m,V)=>(v(),_("div",{key:V,class:"mr-3"},[t("img",{src:m,alt:`Logo ${e.value.product_name}`,width:"150",height:"150",style:{"object-fit":"cover"}},null,8,J)]))),128)),t("div",O,[t("div",null,i((b=e.value)==null?void 0:b.description),1),t("div",Q,i((x=e.value)==null?void 0:x.tenant_name),1)])]),t("div",W,[t("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-info btn-icon mr-2",onClick:D},[S(a,{icon:["fas","edit"],class:"mr-1"}),F(" Ubah ")])])])]),S(K,{visible:u.value,"onUpdate:visible":s[0]||(s[0]=m=>u.value=m),"init-data":h.value,"is-edit":"",onSubmit:T},null,8,["visible","init-data"])])}}};export{at as default};
