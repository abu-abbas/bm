import{e as h,c as w,K as l,m as x,q as y,G as H,Q as a,x as c,u as i,H as k}from"../../vendor/vue-utils-92461978.js";import{C as q}from"../../vendor/images-utils-205332c6.js";import{_ as B}from"../../vendor/vue-plugins-utils-2535b5ea.js";const I={class:"pt-3"},N={class:"mt-4 w-100 text-right"},T={__name:"CropperImage",props:{visible:{type:Boolean,required:!0,default:!1},imageUrl:{type:[String,null],required:!0,default:null},aspecRatio:{type:Number,required:!1,default:()=>1/1},autoCropArea:{type:Number,required:!1,default:.5}},emits:["update:visible","after-cropping"],setup(p,{emit:o}){const t=p,u=Math.random().toString(36).substring(2,9),s=h(null),r=w(()=>t.visible),d=()=>{},m=()=>o("update:visible",!1),f=e=>{e&&new q(e,{success:b})},b=e=>{o("after-cropping",{image:e}),o("update:visible",!1)},_=()=>{s.value.disable(),s.value.getCroppedCanvas().toBlob(e=>f(e))};return(e,n)=>{const v=l("FontAwesomeIcon"),g=l("b-modal");return x(),y(g,{id:i(u),visible:r.value,"onUpdate:visible":n[0]||(n[0]=C=>r.value=C),"hide-header":"","hide-footer":"","no-close-on-esc":"","no-close-on-backdrop":"",onShown:d,onHide:m},{default:H(()=>[a("div",I,[c(i(B),{ref_key:"cropTarget",ref:s,class:"img-fluid",src:t.imageUrl,"aspect-ratio":1,"auto-crop-area":t.autoCropArea},null,8,["src","auto-crop-area"])]),a("div",N,[a("button",{class:"btn btn-primary",onClick:_},[c(v,{icon:["fas","crop-simple"],class:"mr-1"}),k(" Crop Image ")])])]),_:1},8,["id","visible"])}}};export{T as _};
