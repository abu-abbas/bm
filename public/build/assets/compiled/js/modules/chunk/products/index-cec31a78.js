import{e as p,c as A,w as Y,m as _,L as $,Q as e,v as K,u as B,K as x,q as C,a0 as X,B as N,G as r,U as M,E as H,H as I,o as E,x as a,C as m,S as Z,t as T,b as z,F as R,J as ee,r as te}from"../../../vendor/vue-utils-92461978.js";import{i as W}from"../../../vendor/common-utils-a1d3ee46.js";import{a as le,_ as G,f as Q,b as P,d as J}from"../../../vendor/id-53336ca1.js";import{d as oe,e as se,F as q}from"../../../vendor/vue-plugins-utils-2535b5ea.js";import{_ as ae}from"../../resource/_plugin-vue_export-helper-c27b6911.js";import"../../../vendor/bootstrap-utils-9ffca17a.js";import"../../../vendor/jquery-utils-4b2e19e3.js";import"../../../vendor/images-utils-205332c6.js";const ne=["id"],ie={class:"header"},re=e("span",null,null,-1),ue=[re],de={class:"static-title"},ce=e("h2",null,"Fixed Header",-1),me={class:"body"},_e={__name:"BottomSheet",props:{visible:{type:Boolean,required:!0,default:!1}},emits:["update:visible","show","hide"],setup(L,{emit:w}){const y=L,g=Math.random().toString(36).substring(2,9),d=p(null),S=p(null),v=p(null),b=p(null),o=p(!1),V=p(null),u=p(null),n=A(()=>y.visible),c=t=>{v.value.style.height=`${t}vh`,d.value.classList.toggle("fullscreen",t===100)},s=()=>{d.value.classList.remove("show"),document.body.style.overflowY="auto",w("update:visible",!1),w("hide")},l=()=>{d.value.classList.add("show"),document.body.style.overflowY="hidden",c(50),w("update:visible",!0),w("show")},k=t=>{var h;o.value=!0,V.value=t.pageY||((h=t.touches)==null?void 0:h[0].pageY),u.value=parseInt(v.value.style.height),d.value.classList.add("dragging")},f=t=>{var O;if(!o.value)return;const h=V.value-(t.pageY||((O=t.touches)==null?void 0:O[0].pageY)),j=u.value+h/window.innerHeight*100;c(j)},i=()=>{o.value=!1,d.value.classList.remove("dragging");const t=parseInt(v.value.style.height);t<25?s():t>75?c(100):c(50)};return Y(()=>n.value,t=>t?l():s()),(t,h)=>(_(),$("div",{id:B(g),ref_key:"bottomSheet",ref:d,class:"bottom-sheet"},[e("div",{ref_key:"sheetOverlay",ref:S,class:"sheet-overlay",onClick:s},null,512),e("div",{ref_key:"sheetContent",ref:v,class:"content"},[e("div",ie,[e("div",{ref_key:"dragIcon",ref:b,class:"drag-icon",onMousedown:k,onMousemove:f,onMouseup:i,onTouchstart:k,onTouchmove:f,onTouchend:i},ue,544),e("div",de,[K(t.$slots,"fixed-header",{},()=>[ce])])]),e("div",me,[K(t.$slots,"header"),K(t.$slots,"default")])],512)],8,ne))}};const U={__name:"Select",props:{options:{type:[Array,null],required:!0,default:()=>[]},selected:{type:[Object,null],required:!1,default:()=>{}},multiselectOptions:{type:[Object,null],required:!1,default:()=>({trackBy:"key",label:"value",selectLabel:"",selectedLabel:"",deselectLabel:"",placeholder:""})},loading:{type:Boolean,required:!1,default:!1}},emits:["select","remove","update:selected"],setup(L,{expose:w,emit:y}){const g=L,d=Math.random().toString(36).substring(2,9),S=A(()=>g.options),v=A(()=>g.loading),b=p(g.selected||null),o=(u,n,c)=>y(c,u,n),V=()=>{b.value=null,y("update:selected",null)};return Y(()=>b.value,u=>y("update:selected",u)),w({removeSelected:V}),(u,n)=>{const c=x("vue-multiselect");return _(),C(c,M({id:B(d),modelValue:b.value,"onUpdate:modelValue":n[0]||(n[0]=s=>b.value=s)},L.multiselectOptions,{options:S.value,disabled:v.value,loading:v.value,class:"dropdown-custom",onSelect:n[1]||(n[1]=(s,l)=>o(s,l,"select")),onRemove:n[2]||(n[2]=(s,l)=>o(s,l,"remove"))}),X({noResult:r(()=>[I("Data tidak ditemukan")]),noOptions:r(()=>[I("Tidak ada data")]),_:2},[N(Object.keys(u.$slots),s=>({name:s,fn:r(l=>[l?K(u.$slots,s,M({key:0},l,{disabled:v.value})):H("",!0)])}))]),1040,["id","modelValue","options","disabled","loading"])}}};const pe={class:"checkout-wrapper"},ge=e("h2",null,"Ajukan ketertarikan",-1),ve={class:"form-group mt-4"},fe=e("label",{class:"form-label text-muted"},"Kegiatan",-1),he={class:"d-flex flex-column"},ke={class:"text-sm text-muted"},be={class:"d-flex flex-column"},ye={class:"text-sm text-muted fw-500"},xe={key:0,class:"text-danger fs-sm mt-2"},we={key:0,class:"form-group"},$e=e("label",{class:"form-label text-muted"},"RSK",-1),Se={key:0,class:"text-danger fs-sm mt-2"},Ie={key:1,class:"form-group"},Le=e("label",{class:"form-label text-muted"},"Akun",-1),Be={class:"d-flex flex-column"},Ve={class:"text-sm text-muted"},Fe={class:"d-flex align-items-center mt-2"},He={class:"text-sm fw-500"},Ce={class:"d-flex flex-column"},je={class:"text-sm text-muted fw-500"},De={class:"d-flex align-items-center mt-2"},Ne={class:"text-sm fw-500"},Oe={key:0,class:"text-danger fs-sm mt-2"},qe={key:2,class:"form-group"},Ke=e("label",{class:"form-label text-muted"},"Nilai Ketertarikan",-1),Re={key:0,class:"text-danger fs-sm mt-2"},Ae={__name:"Index",props:{tenantSlug:{type:[String,null],required:!0,default:null},productSlug:{type:[String,null],required:!0,default:null}},setup(L){const w=L,y=p(!1),g=p(null),d=p(null),S=p(null),v=p(null),b=p(0),o=p({kegiatan:{options:[],selected:null,props:{trackBy:"kode_kegiatan",label:"nama_kegiatan",placeholder:"Pilih kegiatan"},loading:!1},rsk:{options:[],selected:null,props:{trackBy:"nama_rsk",label:"nama_rsk",placeholder:"Pilih rsk"},loading:!1},akun:{options:[],selected:null,props:{trackBy:"id_rskbas",label:"nama_akun",placeholder:"Pilih akun"},loading:!1}}),V=()=>{if(!G.user){Q();return}y.value=!0},u=(s="kegiatan",l=null,k=null)=>{o.value[s].loading=!0,P.get(J("backend.budget.get",{type:s,value:l,addons:k})).then(f=>o.value[s].options=[...f.data.data]).catch(()=>o.value[s].options=[]).finally(()=>o.value[s].loading=!1)},n=le.debounce(s=>{const l="0123456789.",k=[...s.target.value].filter(t=>l.includes(t)).join("");s.target.value=k;const f=parseFloat(s.target.value.split(".").join("")||0),i=parseFloat(o.value.akun.selected.dpa_rsk||0);if(f<0){b.value=0,s.target.value=0;return}if(f>i){b.value=i,s.target.value=i.toLocaleString("id-ID",{style:"decimal"});return}b.value=f,s.target.value=f.toLocaleString("id-ID",{style:"decimal"})},500);oe("voi_value",(s,[l])=>{var k;return s==0?"Nilai ketertarikan tidak boleh 0":s<=parseFloat(l==null?void 0:l.dpa_rsk)?!0:`Nilai ketertarikan maksimal ${(k=parseFloat(l==null?void 0:l.dpa_rsk))==null?void 0:k.toLocaleString("id-ID",{style:"decimal"})}`});const c=()=>setTimeout(()=>v.value.focus(),250);return Y([()=>o.value.kegiatan.selected,()=>o.value.rsk.selected],([s,l],[k,f])=>{var i,t,h;s&&JSON.stringify(k)!=JSON.stringify(s)&&(o.value.rsk.selected=null,o.value.akun.selected=null,(i=d.value)==null||i.removeSelected(),(t=S.value)==null||t.removeSelected(),u("rsk",s.kode_kegiatan)),l&&JSON.stringify(l)!=JSON.stringify(f)&&(o.value.akun.selected=null,(h=S.value)==null||h.removeSelected(),u("akun",o.value.kegiatan.selected.kode_kegiatan,l.kode_rsk))}),E(()=>{u(),console.log({props:w})}),(s,l)=>{const k=x("FontAwesomeIcon");return _(),$("div",pe,[e("button",{class:"btn btn-lg btn-primary",onClick:V},[a(k,{icon:["fas","plus"]}),I(" Ketertarikan ")]),a(_e,{visible:y.value,"onUpdate:visible":l[8]||(l[8]=f=>y.value=f)},{"fixed-header":r(()=>[ge]),default:r(()=>[a(B(se),{ref_key:"formRef",ref:g},{default:r(({errors:f})=>[e("div",ve,[fe,a(B(q),{modelValue:o.value.kegiatan.selected,"onUpdate:modelValue":l[1]||(l[1]=i=>o.value.kegiatan.selected=i),label:"Kegiatan",name:"kegiatan",rules:"required"},{default:r(({errorMessage:i})=>[a(U,{selected:o.value.kegiatan.selected,"onUpdate:selected":l[0]||(l[0]=t=>o.value.kegiatan.selected=t),options:o.value.kegiatan.options,"multiselect-options":o.value.kegiatan.props,loading:o.value.kegiatan.loading},{option:r(t=>[e("div",he,[e("strong",ke,m(t.option.kode_kegiatan),1),e("span",null,m(t.option.nama_kegiatan),1)])]),singleLabel:r(t=>[e("div",be,[e("strong",ye,m(t.option.kode_kegiatan),1),e("span",null,m(t.option.nama_kegiatan),1)])]),_:1},8,["selected","options","multiselect-options","loading"]),i?(_(),$("div",xe,m(i),1)):H("",!0)]),_:1},8,["modelValue"])]),o.value.kegiatan.selected?(_(),$("div",we,[$e,a(B(q),{modelValue:o.value.rsk.selected,"onUpdate:modelValue":l[3]||(l[3]=i=>o.value.rsk.selected=i),label:"RSK",name:"rsk",rules:"required"},{default:r(({errorMessage:i})=>[a(U,{ref_key:"refRsk",ref:d,selected:o.value.rsk.selected,"onUpdate:selected":l[2]||(l[2]=t=>o.value.rsk.selected=t),options:o.value.rsk.options,"multiselect-options":o.value.rsk.props,loading:o.value.rsk.loading},null,8,["selected","options","multiselect-options","loading"]),i?(_(),$("div",Se,m(i),1)):H("",!0)]),_:1},8,["modelValue"])])):H("",!0),o.value.rsk.selected?(_(),$("div",Ie,[Le,a(B(q),{modelValue:o.value.akun.selected,"onUpdate:modelValue":l[5]||(l[5]=i=>o.value.akun.selected=i),label:"Akun",name:"akun",rules:"required"},{default:r(({errorMessage:i})=>[a(U,{ref_key:"refAkun",ref:S,selected:o.value.akun.selected,"onUpdate:selected":l[4]||(l[4]=t=>o.value.akun.selected=t),options:o.value.akun.options,"multiselect-options":o.value.akun.props,loading:o.value.akun.loading,onSelect:c},{option:r(t=>{var h;return[e("div",Be,[e("strong",Ve,m(t.option.kode_akun),1),e("span",null,m(t.option.nama_akun),1),e("div",Fe,[e("strong",He,"Nilai Anggaran: "+m((h=parseFloat(t.option.dpa_rsk||0))==null?void 0:h.toLocaleString("id-ID",{style:"decimal"})),1)])])]}),singleLabel:r(t=>{var h;return[e("div",Ce,[e("strong",je,m(t.option.kode_akun),1),e("span",null,m(t.option.nama_akun),1),e("div",De,[e("strong",Ne,"Nilai Anggaran: "+m((h=parseFloat(t.option.dpa_rsk||0))==null?void 0:h.toLocaleString("id-ID",{style:"decimal"})),1)])])]}),_:1},8,["selected","options","multiselect-options","loading"]),i?(_(),$("div",Oe,m(i),1)):H("",!0)]),_:1},8,["modelValue"])])):H("",!0),o.value.akun.selected?(_(),$("div",qe,[Ke,a(B(q),{modelValue:b.value,"onUpdate:modelValue":l[7]||(l[7]=i=>b.value=i),label:"Nilai Ketertarikan",name:"voi",rules:"required|voi_value:@akun"},{default:r(({errorMessage:i})=>[e("input",{ref_key:"refVoi",ref:v,type:"text",class:"form-control text-right custom-form-control font-bold",onKeyup:l[6]||(l[6]=(...t)=>B(n)&&B(n)(...t))},null,544),i?(_(),$("div",Re,m(i),1)):H("",!0)]),_:1},8,["modelValue"])])):H("",!0),e("button",{class:Z({"btn btn-primary btn-block":!0,disabled:f})}," Simpan ",2)]),_:1},512)]),_:1},8,["visible"])])}}};const Te={class:"mainImage"},Ue={class:"gradient-background bg-white"},Ye={class:"container"},Ee={class:"text-dark mt-2"},Pe={class:"mt-2 text-dark"},Je={class:"text-info mt-4"},Me={class:"detail"},We={class:"text-dark",style:{"white-space":"pre-line"}},ze={__name:"Index",props:{tenantSlug:{type:[String,null],required:!0,default:null},productSlug:{type:[String,null],required:!0,default:null}},setup(L){const w=L,y=n=>window.location=n,g=p({}),d=T(w,"tenantSlug"),S=T(w,"productSlug"),v=p(null),b=p([]),o=function(){window.doLogout.apply(this,arguments)},V=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(n),u=async()=>{try{P.get(J("backend.landing.product.getsingelproduct",{tenant:d.value,product:S.value})).then(n=>{var c,s;if(n.data.data==null)return y("/404");g.value=n.data.data,b.value=[...((s=(c=n==null?void 0:n.data)==null?void 0:c.data)==null?void 0:s.images)||[]]}).catch(n=>{console.log(n)})}catch(n){console.log(n)}};return E(()=>{u(),v.value&&v.value.addEventListener("click",o)}),z(()=>{v.value&&v.value.removeEventListener("click",o)}),(n,c)=>{const s=x("b-icon"),l=x("b-nav-item"),k=x("b-nav"),f=x("b-carousel-slide"),i=x("b-carousel"),t=x("FontAwesomeIcon");return _(),$("div",null,[a(k,{tabs:"",fill:"",class:"fixed-top bg-white"},{default:r(()=>[a(l,{class:"text-left"},{default:r(()=>[a(s,{icon:"arrow-left"}),I(" "+m(g.value.tenant_name),1)]),_:1})]),_:1}),e("div",Te,[a(i,{id:"carousel",controls:!0,indicators:!0,interval:0},{default:r(()=>[(_(!0),$(R,null,N(b.value,(h,j)=>(_(),C(f,{key:j,"img-src":h},null,8,["img-src"]))),128))]),_:1})]),e("div",Ue,[e("div",Ye,[e("h3",Ee,m(g.value.nama_barang),1),e("span",Pe,[a(s,{icon:"shop"}),I(" Product By: "+m(g.value.tenant_name),1)]),e("h4",Je,[a(s,{icon:"tags",varian:"info"}),I(" "+m(V(g.value.price)),1)]),e("div",Me,[e("span",We,m(g.value.description),1)]),B(G).user?(_(),C(Ae,{key:1,"tenant-slug":d.value,"product-slug":S.value,class:"mt-3"},null,8,["tenant-slug","product-slug"])):(_(),$("button",{key:0,class:"btn btn-lg btn-primary mt-3 mb-5",onClick:c[0]||(c[0]=h=>B(Q)())},[a(t,{icon:["fas","plus"]}),I(" Ketertarikan ")]))])]),a(k,{tabs:"",justified:"",class:"fixed-bottom bg-white"},{default:r(()=>[a(l,{active:"",onClick:c[1]||(c[1]=h=>y("/"))},{default:r(()=>[a(s,{icon:"house",variant:"primary"})]),_:1}),a(l,{onClick:c[2]||(c[2]=h=>y("/"+d.value))},{default:r(()=>[a(s,{icon:"shop",variant:"primary"})]),_:1}),a(l,null,{default:r(()=>[a(s,{icon:"cart",variant:"primary"})]),_:1})]),_:1})])}}},Ge=ae(ze,[["__scopeId","data-v-7a6a1ae6"]]),Qe={class:"container home-wrapper mt-5"},Xe={class:"row"},Ze={class:"col-12"},et={class:"col-12 d-block d-sm-none mb-3"},tt={class:"col-12 d-none d-sm-block d-md-none mb-3"},lt={class:"col-12 d-none d-md-block d-lg-none mb-3"},ot={class:"imagedekstop"},st={class:"row"},at={class:"col-lg-6 d-none d-lg-block d-xl-block"},nt={class:"col-12 mb-2"},it={class:"col-12"},rt={class:"col-sm-12 col-xs-12 col-lg-6 d-flex align-items-center mb-5"},ut={class:"row"},dt={class:"col-12"},ct={class:"b-text text-warning nama-tenant"},mt={class:"col-12"},_t={class:"b-text text-dark nama-product"},pt={class:"col-12 my-3"},gt={style:{"white-space":"pre-line"}},vt={class:"col-12 mt-2"},ft={class:"b-text text-dark harga-product"},ht={class:"col-12 mb-3 d-none d-lg-block d-xl-block"},kt={class:"b-text text-muted harga-product"},bt={class:"col-lg-8 col-sm-12 col-xs-12 col-md-12 w-100"},yt={__name:"Index",setup(L){const w=u=>window.location=u,y=ee(),g=p(null),d=p({}),S=p(""),v=p(["https://th.bing.com/th/id/OIP.3vxFi4e09BLrfl2LRKlWHgHaHa?pid=ImgDet&w=910&h=910&rs=1","https://img.freepik.com/free-photo/pair-trainers_144627-3800.jpg","https://images.pexels.com/photos/19090/pexels-photo.jpg?cs=srgb&dl=pexels-web-donut-19090.jpg"]),b=u=>{S.value=u},o=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(u),V=async()=>{try{P.get(J("backend.landing.product.getsingelproduct",{tenant:y.params.tenantSlug,product:y.params.productSlug})).then(u=>{var n,c;if(u.data.data==null)return w("/404");d.value=u.data.data,S.value=[...((c=(n=u==null?void 0:u.data)==null?void 0:n.data)==null?void 0:c.images)||[]]}).catch(u=>{console.log(u)})}catch(u){console.log(u)}};return E(()=>{V(),g.value&&g.value.addEventListener("click",function(){window.doLogout.apply(this,arguments)})}),z(()=>{g.value&&g.value.removeEventListener("click")}),(u,n)=>{const c=x("b-icon"),s=x("b-breadcrumb-item"),l=x("b-breadcrumb"),k=x("b-carousel-slide"),f=x("b-carousel"),i=x("b-img"),t=x("b-col"),h=x("b-row"),j=x("b-badge"),O=x("b-button");return _(),$("div",Qe,[e("div",Xe,[e("div",Ze,[a(l,null,{default:r(()=>[a(s,{href:"#home"},{default:r(()=>[a(c,{icon:"house-fill",scale:"1.25","shift-v":"1.25","aria-hidden":"true"}),I(" "+m(d.value.tenant_name),1)]),_:1}),a(s,{active:""},{default:r(()=>[I(m(d.value.product_name),1)]),_:1})]),_:1})]),e("div",et,[a(f,{id:"carousel",controls:!0,indicators:!0,"img-height":"25rem",interval:0},{default:r(()=>[(_(!0),$(R,null,N(v.value,(F,D)=>(_(),C(k,{key:D,"img-src":F},null,8,["img-src"]))),128))]),_:1})]),e("div",tt,[a(f,{id:"carousel",controls:!0,indicators:!0,"img-height":"25rem",interval:0},{default:r(()=>[(_(!0),$(R,null,N(v.value,(F,D)=>(_(),C(k,{key:D,"img-src":F},null,8,["img-src"]))),128))]),_:1})]),e("div",lt,[a(f,{id:"carousel",controls:!0,indicators:!0,"img-height":"25rem",interval:0},{default:r(()=>[(_(!0),$(R,null,N(v.value,(F,D)=>(_(),C(k,{key:D,"img-src":F},null,8,["img-src"]))),128))]),_:1})]),e("div",ot,[e("div",st,[e("div",at,[e("div",nt,[a(i,{src:S.value,"fluid-grow":"",alt:"Responsive image",style:{width:"100%",height:"27rem","border-radius":"1rem"}},null,8,["src"])]),e("div",it,[a(h,{class:"mb-3"},{default:r(()=>[a(t,{onClick:n[0]||(n[0]=F=>b("https://images.pexels.com/photos/19090/pexels-photo.jpg?cs=srgb&dl=pexels-web-donut-19090.jpg"))},{default:r(()=>[a(i,{contain:"",thumbnail:"","fluid-grow":"",src:"https://images.pexels.com/photos/19090/pexels-photo.jpg?cs=srgb&dl=pexels-web-donut-19090.jpg",alt:"Image 1",style:{width:"100%",height:"100%"}})]),_:1}),a(t,{onClick:n[1]||(n[1]=F=>b("https://img.freepik.com/free-photo/pair-trainers_144627-3800.jpg"))},{default:r(()=>[a(i,{contain:"",thumbnail:"","fluid-grow":"",src:"https://img.freepik.com/free-photo/pair-trainers_144627-3800.jpg",alt:"Image 2",style:{width:"100%",height:"100%"}})]),_:1}),a(t,{onClick:n[2]||(n[2]=F=>b("https://th.bing.com/th/id/OIP.3vxFi4e09BLrfl2LRKlWHgHaHa?pid=ImgDet&w=910&h=910&rs=1"))},{default:r(()=>[a(i,{contain:"",thumbnail:"","fluid-grow":"",src:"https://th.bing.com/th/id/OIP.3vxFi4e09BLrfl2LRKlWHgHaHa?pid=ImgDet&w=910&h=910&rs=1",alt:"Image 3",style:{width:"100%",height:"100%"}})]),_:1})]),_:1})])]),e("div",rt,[e("div",ut,[e("div",dt,[e("h5",ct,m(d.value.tenant_name),1)]),e("div",mt,[e("h3",_t,m(d.value.product_name),1)]),e("div",pt,[e("span",gt,m(d.value.description),1)]),e("div",vt,[e("h4",ft,m(o(d.value.price)),1)]),e("div",ht,[e("h5",kt,[a(j,{variant:"danger"},{default:r(()=>[I("15%")]),_:1}),I(),e("del",null,m(o(d.value.price+d.value.price*.15)),1)])]),e("div",bt,[a(O,{class:"w-100",size:"lg",variant:"primary"},{default:r(()=>[a(c,{icon:"cart-fill",class:"mr-2"}),I(" Tambah Ke Keranjang")]),_:1})])])])])])])])}}};const Ft={__name:"Index",props:{tenantSlug:{type:[String,null],required:!0,default:null},productSlug:{type:[String,null],required:!0,default:null}},setup(L){const w=L,y=T(w,"tenantSlug"),g=T(w,"productSlug"),d=A(()=>!W(window.navigator).phone||W(window.navigator).tablet);return(S,v)=>(_(),C(te(d.value?yt:Ge),{"tenant-slug":y.value,"product-slug":g.value},null,8,["tenant-slug","product-slug"]))}};export{Ft as default};
