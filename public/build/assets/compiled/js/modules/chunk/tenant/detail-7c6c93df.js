import{R as C,e as r,t as H,_ as I,j as R,K as E,L as K,Q as t,C as p,x as c,H as k,m as N}from"../../../vendor/vue-utils-cea615f1.js";import{b as Q,d as $,e as q}from"../../../vendor/id-959b107e.js";import{u as A}from"../../resource/tenant-store-da1e4e6a.js";import{_ as F}from"../../resource/IframeModal-a5ec19de.js";import{_ as L}from"../../resource/ModalForm-22176e5e.js";import"../../../vendor/common-utils-e0afba66.js";import"../../../vendor/bootstrap-utils-9ffca17a.js";import"../../../vendor/jquery-utils-4b2e19e3.js";import"../../../vendor/vue-plugins-utils-b3bb03cf.js";import"../../../vendor/images-utils-205332c6.js";import"../../resource/CropperImage-47525332.js";const M={class:"section-body"},P={class:"section-title fs-lg"},z={class:"section-lead"},G={class:"row"},J={class:"col-12"},O={class:"d-flex align-items-start flex-wrap flex-sm-nowrap"},W=["src","alt"],X={class:"flex-1 ml-0 ml-sm-3"},Y={class:"action d-flex align-items-center mt-3"},ue={__name:"Detail",props:{slug:{type:[String,null],required:!0}},setup(T){const y=T,B=C(),a=r(null),o=H(y,"slug"),u=A(),{getSelectedByUrl:_}=I(u),m=r(!1),d=r(!1),h=r({}),w=()=>B.push({name:"settings.tenant"}),b=()=>{_.value(o.value)||Q.get($("backend.tenant.get",{search:o.value,columns:"url",fetch_first:!0})).then(e=>{var s;return u.setItemByUrl(o.value,(s=e.data)==null?void 0:s.data)}).catch(e=>{var s,n;q.fire({title:"Terjadi Kesalahan",text:((n=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:n.message)||"Data tenant tidak ditemukan",icon:"error",timer:5e3,timerProgressBar:!0,confirmButtonText:"Kembali"}).then(({isConfirmed:l,dismiss:i})=>{(l||i=="timer")&&w()})}).finally(()=>j()),a.value=_.value(o.value)},D=()=>{h.value=a.value,m.value=!0},U=v=>{u.setItemByUrl(o.value,v),b()},V=()=>{d.value=!0},j=R(()=>{a.value||b()});return(v,e)=>{var n,l,i,g,x,S;const s=E("FontAwesomeIcon");return N(),K("div",M,[t("h2",P,p((n=a.value)==null?void 0:n.name),1),t("p",z,p((l=a.value)==null?void 0:l.short_location),1),t("div",G,[t("div",J,[t("div",O,[t("img",{src:(g=(i=a.value)==null?void 0:i.logo)==null?void 0:g.thumb,alt:`Logo ${(x=a.value)==null?void 0:x.name}`},null,8,W),t("div",X,p((S=a.value)==null?void 0:S.description),1)]),t("div",Y,[t("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-info btn-icon mr-2",onClick:D},[c(s,{icon:["fas","edit"],class:"mr-1"}),k(" Ubah ")]),t("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-primary btn-icon",onClick:V},[c(s,{icon:["fas","qrcode"],class:"mr-1"}),k(" Tampilkan Qrcode ")])])])]),c(L,{visible:m.value,"onUpdate:visible":e[0]||(e[0]=f=>m.value=f),"init-data":h.value,"is-edit":"",onSubmit:U},null,8,["visible","init-data"]),c(F,{visible:d.value,"onUpdate:visible":e[1]||(e[1]=f=>d.value=f),slug:o.value},null,8,["visible","slug"])])}}};export{ue as default};
