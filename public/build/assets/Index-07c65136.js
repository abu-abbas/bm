import{fk as u,fl as w,fV as z,a as k,fP as B,o as a,fo as t,u as e,ft as r,c,fn as T,fq as y,fr as C}from"./vee-validate-i18n.esm-a7fc52c1.js";import{A as D,X as I}from"./vue-multiselect.esm-0a551888.js";import{u as N}from"./tenant-store-83631ae5.js";import{f as P}from"./formatter-8fa69f9f.js";import{_ as $}from"./Spinner-12040d61.js";import R from"./404-4b3e87cc.js";import{_ as V}from"./Index-435df94e.js";import{I as x}from"./pr-10-585f030b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./jquery-61d8969c.js";function q(i){const m=D(),p=N(),{getSelectedByUrl:n}=I(p),d=u(null),o=u(!1),_=u(!1),f=()=>{if(_.value)return;_.value=!0;const l=n.value(i);if(l){d.value=l,o.value=!0,_.value=!1;return}p.fetchTenantByUrl(i).then(()=>{d.value=n.value(i),o.value=!0}).catch(()=>o.value=!1).finally(()=>setTimeout(()=>_.value=!1,100))},g=l=>{m.push({name:"tenant.product",params:{tenantSlug:i,productSlug:l}})};return w(()=>f()),{data:d,found:o,loading:_,onHandleSelectedProduct:g}}const F="/kbm/build/assets/main-slide-89a3b542.jpg";const H={class:"tenant-wrapper"},M={class:"kalles-section page_section_heading"},U={class:"page-head tc pr oh cat_bg_img page_head_"},j=["data-bgset"],A={class:"container pr z_100"},E={class:"mb__5 cw"},K={class:"mg__0"},L={key:1,class:"kalles-section nt_section type_featured_collection tp_se_cdt"},X={class:"kalles-digital__bestselling-section container"},G=t("div",{class:"wrap_title des_title_1"},[t("h3",{class:"section-title tc pr flex fl_center al_center fs__24 title_1"},[t("span",{class:"mr__10 ml__10"},"Daftar Produk")]),t("span",{class:"dn tt_divider"},[t("span"),t("i",{class:"dn clprfalse title_1 la-gem"}),t("span")]),t("span",{class:"section-subtitle db tc sub-title"})],-1),J={key:0,class:"mt-5 mb-xxl text-center"},O={key:0,class:"products nt_products_holder row fl_center row_pr_1 cdt_des_1 round_cd_false nt_cover ratio_nt position_8 space_30"},Q={class:"product-inner pr"},W={class:"product-image pr oh lazyload"},Y={class:"tc nt_labels pa pe_none cw"},Z={class:"onsale nt_label"},tt=["onClick"],et=["data-bgset"],st={class:"hover_img pa pe_none t__0 l__0 r__0 b__0 op__0"},at=["data-bgset"],_t={class:"product-info mt__15"},nt={class:"product-title pr fs__14 mg__0 fwm"},ot=["onClick"],lt={class:"price dib mb__5"},ct={class:"money text-danger"},it={key:1,class:"products nt_products_holder row fl_center row_pr_1 cdt_des_1 round_cd_false nt_cover ratio_nt position_8 space_30"},dt=t("div",{class:"mt-5 mb-xxl text-muted"}," Belum ada produk ",-1),rt=[dt],xt={__name:"Index",props:{slug:{type:[String,null],required:!0,default:null}},setup(i){const p=z(i,"slug"),{data:n,found:d,loading:o,onHandleSelectedProduct:_}=q(p.value);return(f,g)=>(a(),k(V,null,{default:B(()=>{var l,h,v,b;return[t("div",H,[t("div",M,[t("div",U,[t("div",{class:"parallax-inner nt_parallax_false lazyload nt_bg_lz pa t__0 l__0 r__0 b__0","data-bgset":e(F)},null,8,j),t("div",A,[t("h1",E,r((l=e(n))==null?void 0:l.name),1),t("p",K,r((h=e(n))==null?void 0:h.description),1)])])]),!e(o)&&!e(d)?(a(),k(R,{key:0})):(a(),c("div",L,[t("div",X,[G,e(o)?(a(),c("div",J,[T($)])):(a(),c(y,{key:1},[(b=(v=e(n))==null?void 0:v.products)!=null&&b.length?(a(),c("div",O,[(a(!0),c(y,null,C(e(n).products,s=>(a(),c("div",{key:s.slug,class:"col-lg-3 col-md-3 col-6 pr_animated done mt__30 pr_grid_item product nt_pr desgin__1"},[t("div",Q,[t("div",W,[t("span",Y,[t("span",Z,[t("span",null,"TKDN "+r(s.tkdn_value)+"%",1)])]),t("a",{class:"db pointer",onClick:S=>e(_)(s.slug)},[t("div",{class:"pr_lazy_img main-img nt_img_ratio nt_bg_lz lazyload padding-top__100","data-bgset":s.images[0]||e(x)},null,8,et)],8,tt),t("div",st,[t("div",{class:"pr_lazy_img back-img pa nt_bg_lz lazyload padding-top__100","data-bgset":(s==null?void 0:s.images[0])||e(x)},null,8,at)])]),t("div",_t,[t("h3",nt,[t("a",{class:"cd chp pointer",onClick:S=>e(_)(s.slug)},r(s.product_name),9,ot)]),t("span",lt,[t("span",ct,r(e(P)(s.price)),1)])])])]))),128))])):(a(),c("div",it,rt))],64))])]))])]}),_:1}))}};export{xt as default};
