import{fk as m,fV as T,fz as U,r as V,c as f,fo as t,ft as c,fq as I,fr as P,fn as g,fS as j,o as v,ho as q,hp as A,hq as E}from"./vee-validate-i18n.esm-0c3fc239.js";import{A as F,X as N}from"./vue-multiselect.esm-4795f2c0.js";import{u as R}from"./product-store-a21f05a1.js";import{_ as C}from"./ModalForm-fcf15a80.js";import"./CropperImage-0c2785e6.js";const H={class:"section-body"},K={class:"section-title fs-lg"},L={class:"section-lead"},$={class:"row"},z={class:"col-12"},M={class:"d-flex align-items-start flex-wrap flex-sm-nowrap"},X=["src","alt"],G={class:"flex-1 ml-0 ml-sm-3 d-flex flex-column"},J={class:"fw-500"},O={class:"action d-flex align-items-center mt-3"},et={__name:"Detail",props:{slug:{type:[String,null],required:!0}},setup(b){const x=b,S=F(),e=m(null),o=T(x,"slug"),r=R(),{getSelectedByUrl:_}=N(r),u=m(!1),p=m({}),k=()=>S.push({name:"settings.product"}),h=()=>{_.value(o.value)||q.get(A("backend.product.get",{search:o.value,columns:"url",fetch_first:!0})).then(s=>{var a;return r.setItemByUrl(o.value,(a=s.data)==null?void 0:a.data)}).catch(s=>{var a,n;E.fire({title:"Terjadi Kesalahan",text:((n=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:n.message)||"Data product tidak ditemukan",icon:"error",timer:5e3,timerProgressBar:!0,confirmButtonText:"Kembali"}).then(({isConfirmed:i,dismiss:l})=>{(i||l=="timer")&&k()})}).finally(()=>B()),e.value=_.value(o.value)},w=()=>{p.value=e.value,u.value=!0},y=d=>{r.setItemByUrl(o.value,d),h()},B=U(()=>{e.value||h()});return(d,s)=>{var n,i;const a=V("FontAwesomeIcon");return v(),f("div",H,[t("h2",K,c((n=e.value)==null?void 0:n.product_name),1),t("p",L,c((i=e.value)==null?void 0:i.short_location),1),t("div",$,[t("div",z,[t("div",M,[(v(!0),f(I,null,P(e.value.images,(l,D)=>(v(),f("div",{key:D,class:"mr-3"},[t("img",{src:l,alt:`Logo ${e.value.product_name}`,width:"150",height:"150",style:{"object-fit":"cover"}},null,8,X)]))),128)),t("div",G,[t("div",null,c(e.value.description),1),t("div",J,c(e.value.tenant_name),1)])]),t("div",O,[t("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-info btn-icon mr-2",onClick:w},[g(a,{icon:["fas","edit"],class:"mr-1"}),j(" Ubah ")])])])]),g(C,{visible:u.value,"onUpdate:visible":s[0]||(s[0]=l=>u.value=l),"init-data":p.value,"is-edit":"",onSubmit:y},null,8,["visible","init-data"])])}}};export{et as default};
