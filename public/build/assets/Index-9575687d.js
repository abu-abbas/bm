import{fl as y,fm as j,fq as H,hd as F,r as z,o as n,c,fp as e,fo as h,u as s,_ as m,he as x,fu as v,fr as L,fs as A,a as q,fB as E,hf as M}from"./vee-validate-i18n.esm-b9e812f9.js";import{i as $}from"./isMobile-b3e8a064.js";import{y as N,U as R}from"./vue-multiselect.esm-6b6e0179.js";import{u as U}from"./tenant-store-d558fdeb.js";import P from"./404-837b38cd.js";import"./_plugin-vue_export-helper-c27b6911.js";function V(o){const u=N(),l=U(),{getSelectedByUrl:t}=R(l),i=y(null),d=y(!1),r=y(!1),g=()=>{if(r.value)return;r.value=!0;const _=t.value(o);if(_){i.value=_,d.value=!0,r.value=!1;return}l.fetchTenantByUrl(o).then(()=>{i.value=t.value(o),d.value=!0}).catch(()=>d.value=!1).finally(()=>setTimeout(()=>r.value=!1,500))},w=_=>{u.push({name:"tenant.product",params:{tenantSlug:o,productSlug:_}})};return j(()=>g()),{data:i,found:d,loading:r,onHandleSelectedProduct:w}}const Y={class:"root-wrapper tenant-page-for-mobile-wrapper"},G={class:"page-wrapper"},J={class:"fixed-header"},K={class:"button-wrapper"},O={class:"d-flex justify-content-center align-items-center"},Q={class:"align-self-center"},W={class:"searchbar"},X={class:"searchbar__icon"},Z=["placeholder"],ee={class:"header-action-wrapper"},se={key:1,class:"d-flex justify-content-center align-items-center text__header fs-icon-size",href:"javascript:void(0)",onclick:"doLogout.apply(this, arguments)"},te=e("div",{class:"spacing-wrapper"},null,-1),ne={class:"user-information"},oe={class:"info__wrapper"},ae={class:"d-flex w-100 align-items-center m-2"},ce={key:0},re={key:1},le={class:"content-wrapper"},ie={class:"shop-logo d-block"},de={class:"intrinsic w-100 h-100"},_e=["src","alt"],ue={class:"shop-name"},pe={class:"badge-text"},fe={class:"ml-2 text-content"},he={class:"shop-location-wrapper"},me={class:"ml-2 text-content"},ve={class:"content-product px-3 mt-4"},ge={class:"row no-gutters"},ye={class:"product-wrapper"},we=["onClick"],xe=["src","alt"],ke={class:"card-body p-2 d-flex flex-column"},Se={class:"product-description fs-sm"},be={__name:"Index",props:{slug:{type:[String,null],required:!0,default:null}},setup(o){const u=o,l=H(()=>u.slug),{data:t,found:i,onHandleSelectedProduct:d}=V(l.value),r=y(null),g=()=>{var p;const _=window.scrollY>200?"add":"remove";(p=r.value)==null||p.classList[_]("sticky-top")},w=()=>{if(!m.user){x();return}};return j(()=>document.addEventListener("scroll",g)),F(()=>document.removeEventListener("scroll",g)),(_,p)=>{var k,S,b,C,B,I,T;const f=z("FontAwesomeIcon");return n(),c("div",Y,[e("div",G,[e("header",J,[e("div",K,[e("div",O,[h(f,{icon:["fas","arrow-left"]})])]),e("div",Q,[e("div",W,[e("div",X,[h(f,{icon:["fas","search"]})]),e("input",{type:"search",class:"searchbar__input",placeholder:`Cari di ${s(i)?(k=s(t))==null?void 0:k.name:s(m).appname}`},null,8,Z)])]),e("div",ee,[e("a",{class:"d-flex justify-content-center align-items-center text__header fs-icon-size",onClick:w},[h(f,{icon:["fas","cart-shopping"]})]),s(m).user?(n(),c("a",se,[h(f,{icon:["fas","arrow-right-from-bracket"]})])):(n(),c("a",{key:0,class:"d-flex justify-content-center align-items-center text__header fs-icon-size",onClick:p[0]||(p[0]=(...a)=>s(x)&&s(x)(...a))},[h(f,{icon:["fas","arrow-right-to-bracket"]})]))])]),te,e("div",ne,[e("div",oe,[e("div",ae,[s(m).user?(n(),c("span",re,"Halo, "+v(s(m).user.name),1)):(n(),c("span",ce,"Anda belum login."))])])])]),e("div",le,[s(i)?(n(),c(L,{key:0},[e("div",{ref_key:"needSticky",ref:r,class:"tenant-information-wrapper"},[e("div",ie,[e("div",de,[e("img",{src:(b=(S=s(t))==null?void 0:S.logo)==null?void 0:b.thumb,alt:(C=s(t))==null?void 0:C.name,class:"tenant-logo"},null,8,_e)])]),e("div",ue,[e("div",pe,[e("div",fe,v((B=s(t))==null?void 0:B.name),1)]),e("div",he,[e("div",me,v((I=s(t))==null?void 0:I.short_location),1)])])],512),e("div",ve,[e("div",ge,[(n(!0),c(L,null,A((T=s(t))==null?void 0:T.products,(a,D)=>(n(),c("div",{key:D,class:"col-6"},[e("div",ye,[e("div",{class:"card border shadow-sm rounded-lg",onClick:Ie=>s(d)(a.slug)},[e("img",{src:a==null?void 0:a.images[0],alt:a.product_name},null,8,xe),e("div",ke,[e("div",Se,v(a==null?void 0:a.description),1)])],8,we)])]))),128))])])],64)):(n(),q(P,{key:1,class:"px-3"}))])])}}},Ce={class:"tenant-page-for-desktop-wrapper"},Be={__name:"Index",props:{slug:{type:[String,null],required:!0,default:null}},setup(o){const u=o;return(l,t)=>(n(),c("div",Ce,v(u.slug)+" on desktop pc device ",1))}};const De={__name:"Index",props:{slug:{type:[String,null],required:!0,default:null}},setup(o){const l=E(o,"slug"),t=H(()=>!$(window.navigator).phone||$(window.navigator).tablet);return(i,d)=>(n(),q(M(t.value?Be:be),{slug:l.value},null,8,["slug"]))}};export{De as default};
