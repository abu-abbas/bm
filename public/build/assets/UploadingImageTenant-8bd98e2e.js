import{r as j,c as h,j as k,b as n,e as u,fx as i,f as r,fB as x,fC as C,u as R,fJ as U}from"./vee-validate-i18n.esm-8795b5a9.js";import{_ as I}from"./CropperImage-bc84b991.js";const O=["accept"],q={key:1,class:"preview-wrapper"},V=["src"],A={key:2,class:"fs-nano text-danger"},N={__name:"UploadingImageTenant",props:{accept:{type:Array,required:!1,default:()=>["image/gif","image/jpg","image/jpeg","image/png","image/tiff","image/webp"]},maxSize:{type:Number,required:!1,default:5},modelValue:{type:[File,null],required:!0,default:null},urlObject:{type:[String,null],required:!1,default:null},errorMessage:{type:[String,null],required:!1,default:null},aspecRatio:{type:Number,required:!1,default:()=>1/1}},emits:["update:modelValue","update:urlObject","cropping"],setup(g,{expose:v,emit:o}){const l=g,s=Math.random().toString(36).substring(2,9),p=`uploader-image-${s}`,c=window.URL||window.webkitURL,e=j({visible:!1,input:null,output:null,name:null,mime:null,file:null}),_=h(()=>l.accept.join(",")),b=a=>{if(!a.target.files.length)return;const t=a.target.files[0];e.value.input=c.createObjectURL(t),e.value.visible=!0,e.value.name=t.name,e.value.mime=t.type,U(()=>a.target.value="")},y=({image:a})=>{e.value.output=c.createObjectURL(a),e.value.file=new File([a],e.value.name,{type:e.value.mime}),d()},m=()=>{e.value.input=null,e.value.output=null,e.value.file=null,d()},d=()=>{o("update:modelValue",e.value.file),o("update:urlObject",e.value.output),o("cropping",{file:e.value.file,urlObject:e.value.output})};return v({removeImage:m}),(a,t)=>{const f=k("FontAwesomeIcon");return n(),u("div",{key:R(s),class:"uploader-image-wrapper"},[e.value.output?(n(),u("div",q,[r("img",{src:e.value.output,class:"image-preview",alt:"Output after crop and resize"},null,8,V),r("a",{href:"javascript:void(0)",onClick:m},[i(f,{icon:["fas","trash-alt"]})])])):(n(),u("label",{key:0,for:p,class:"border"},[i(f,{icon:["far","image"]}),r("input",{id:p,type:"file",name:"upload",accept:_.value,onChange:b},null,40,O)])),i(I,{visible:e.value.visible,"onUpdate:visible":t[0]||(t[0]=w=>e.value.visible=w),"image-url":e.value.input,"aspec-ratio":l.aspecRatio,onAfterCropping:y},null,8,["visible","image-url","aspec-ratio"]),l.errorMessage?(n(),u("div",A,x(l.errorMessage),1)):C("",!0)])}}};export{N as _};
