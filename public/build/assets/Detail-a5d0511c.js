import{r,fX as N,fH as E,j as R,e as $,f as e,fB as o,fV as u,fx as d,b as q,hn as A,ho as F,hp as K}from"./vee-validate-i18n.esm-8795b5a9.js";import{C as Q,X}from"./vue-multiselect.esm-5ac34b22.js";import{u as L}from"./tenant-store-a48f7959.js";import{_ as M}from"./IframeModal-3dd1e453.js";import{_ as P}from"./ModalForm-266b2ecc.js";import"./UploadingImageTenant-8bd98e2e.js";import"./CropperImage-bc84b991.js";const z={class:"section-body"},G={class:"section-title fs-lg"},J={class:"section-lead"},O={class:"row"},W={class:"col-12"},Y={class:"d-flex align-items-start flex-wrap flex-sm-nowrap"},Z=["src","alt"],ee={class:"flex-1 ml-0 ml-sm-3"},te={class:"d-flex flex-column"},ae={class:"nama-tenant"},se={class:"pic"},ne={class:"action d-flex align-items-center mt-3"},me={__name:"Detail",props:{slug:{type:[String,null],required:!0}},setup(w){const D=w,H=Q(),t=r(null),n=N(D,"slug"),m=L(),{getSelectedByUrl:h}=X(m),f=r(!1),v=r(!1),b=r({}),U=()=>H.push({name:"settings.tenant"}),g=()=>{h.value(n.value)||A.get(F("backend.tenant.get",{search:n.value,columns:"url",fetch_first:!0})).then(a=>{var s;return m.setItemByUrl(n.value,(s=a.data)==null?void 0:s.data)}).catch(a=>{var s,l;K.fire({title:"Terjadi Kesalahan",text:((l=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:l.message)||"Data tenant tidak ditemukan",icon:"error",timer:5e3,timerProgressBar:!0,confirmButtonText:"Kembali"}).then(({isConfirmed:i,dismiss:c})=>{(i||c=="timer")&&U()})}).finally(()=>I()),t.value=h.value(n.value)},V=()=>{b.value=t.value,f.value=!0},j=_=>{m.setItemByUrl(n.value,_),g()},C=()=>{v.value=!0},I=E(()=>{t.value||g()});return(_,a)=>{var l,i,c,x,S,k,B,T,y;const s=R("FontAwesomeIcon");return q(),$("div",z,[e("h2",G,o((l=t.value)==null?void 0:l.name),1),e("p",J,o((i=t.value)==null?void 0:i.short_location),1),e("div",O,[e("div",W,[e("div",Y,[e("img",{src:(x=(c=t.value)==null?void 0:c.logo)==null?void 0:x.thumb,alt:`Logo ${(S=t.value)==null?void 0:S.name}`},null,8,Z),e("div",ee,[e("div",te,[e("div",ae,o((k=t.value)==null?void 0:k.description),1),e("div",se,[u("Nara Hubung: "),e("strong",null,o((B=t.value)==null?void 0:B.pic)+" - "+o((T=t.value)==null?void 0:T.jabatan),1),u(", Hp. "+o((y=t.value)==null?void 0:y.hp),1)])])])]),e("div",ne,[e("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-info btn-icon mr-2",onClick:V},[d(s,{icon:["fas","edit"],class:"mr-1"}),u(" Ubah ")]),e("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-primary btn-icon",onClick:C},[d(s,{icon:["fas","qrcode"],class:"mr-1"}),u(" Tampilkan Qrcode ")])])])]),d(P,{visible:f.value,"onUpdate:visible":a[0]||(a[0]=p=>f.value=p),"init-data":b.value,"is-edit":"",onSubmit:j},null,8,["visible","init-data"]),d(M,{visible:v.value,"onUpdate:visible":a[1]||(a[1]=p=>v.value=p),slug:n.value},null,8,["visible","slug"])])}}};export{me as default};
