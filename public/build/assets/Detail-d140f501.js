import{r as v,fX as E,fH as F,j as H,e as n,f as t,fB as c,fy as y,fz as B,fC as R,fx as D,fV as U,b as l,hn as A,ho as K,hp as L}from"./vee-validate-i18n.esm-8795b5a9.js";import{C as X,X as $}from"./vue-multiselect.esm-5ac34b22.js";import{u as q}from"./product-store-d4bdc2eb.js";import{_ as z}from"./ModalForm-9234aefb.js";import"./CropperImage-bc84b991.js";const M={class:"section-body"},G={class:"section-title fs-lg"},J={class:"section-lead"},O={class:"row"},Q={class:"col-12"},W={class:"d-flex align-items-start flex-wrap flex-sm-nowrap"},Y=["src","alt"],Z={class:"flex-1 ml-0 ml-sm-3 d-flex flex-column"},ee={class:"fw-500"},te={key:0,class:"w-100 mt-2"},se={class:"action d-flex align-items-center mt-3"},ce={__name:"Detail",props:{slug:{type:[String,null],required:!0}},setup(V){const C=V,T=X(),e=v(null),d=E(C,"slug"),m=q(),{getSelectedByUrl:p}=$(m),f=v(!1),h=v({}),j=()=>T.push({name:"settings.product"}),g=()=>{p.value(d.value)||A.get(K("backend.product.get",{search:d.value,columns:"url",fetch_first:!0})).then(s=>{var a;return m.setItem((a=s.data)==null?void 0:a.data)}).catch(s=>{var a,i;L.fire({title:"Terjadi Kesalahan",text:((i=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:i.message)||"Data product tidak ditemukan",icon:"error",timer:5e3,timerProgressBar:!0,confirmButtonText:"Kembali"}).then(({isConfirmed:r,dismiss:u})=>{(r||u=="timer")&&j()})}),e.value=p.value(d.value)},I=()=>{h.value=e.value,f.value=!0},N=_=>{m.setItem(_),g()};return F(()=>{e.value||g()}),(_,s)=>{var i,r,u,b,x,k,S,w;const a=H("FontAwesomeIcon");return l(),n("div",M,[t("h2",G,c((i=e.value)==null?void 0:i.product_name),1),t("p",J,c((r=e.value)==null?void 0:r.short_location),1),t("div",O,[t("div",Q,[t("div",W,[(l(!0),n(y,null,B((u=e.value)==null?void 0:u.images,(o,P)=>(l(),n("div",{key:P,class:"mr-3"},[t("img",{src:o,alt:`Logo ${e.value.product_name}`,width:"150",height:"150",style:{"object-fit":"cover"}},null,8,Y)]))),128)),t("div",Z,[t("div",null,c((b=e.value)==null?void 0:b.description),1),t("div",ee,c((x=e.value)==null?void 0:x.tenant_name),1),(S=(k=e.value)==null?void 0:k.categories)!=null&&S.length?(l(),n("div",te,[(l(!0),n(y,null,B((w=e.value)==null?void 0:w.categories,o=>(l(),n("span",{key:o.id,class:"badge badge-success"},c(o.name),1))),128))])):R("",!0)])]),t("div",se,[t("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-info btn-icon mr-2",onClick:I},[D(a,{icon:["fas","edit"],class:"mr-1"}),U(" Ubah ")])])])]),D(z,{visible:f.value,"onUpdate:visible":s[0]||(s[0]=o=>f.value=o),"init-data":h.value,"is-edit":"",onSubmit:N},null,8,["visible","init-data"])])}}};export{ce as default};
