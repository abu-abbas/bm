import{fl as v,fW as D,fA as T,r as I,c as _,fp as e,fu as u,fr as V,fs as P,fo as x,fT as j,o as p,ho as A,hp as E,hq as F}from"./vee-validate-i18n.esm-14720df6.js";import{W as N,y as R,V as q}from"./vue-multiselect.esm-aaf679ef.js";import{_ as C}from"./ModalForm-d5f36a70.js";import"./CropperImage-fffb8212.js";const H=N("product-store",{state:()=>({items:{}}),getters:{getSelectedByUrl:o=>l=>o.items[l]||!1},actions:{setItemByUrl(o,l){this.items[o]=l}}}),K={class:"section-body"},L={class:"section-title fs-lg"},W={class:"section-lead"},$={class:"row"},M={class:"col-12"},z={class:"d-flex align-items-start flex-wrap flex-sm-nowrap"},G=["src","alt"],J={class:"flex-1 ml-0 ml-sm-3 d-flex flex-column"},O={class:"fw-500"},Q={class:"action d-flex align-items-center mt-3"},te={__name:"Detail",props:{slug:{type:[String,null],required:!0}},setup(o){const l=o,y=R(),t=v(null),n=D(l,"slug"),d=H(),{getSelectedByUrl:h}=q(d),m=v(!1),g=v({}),S=()=>y.push({name:"settings.product"}),b=()=>{h.value(n.value)||A.get(E("backend.product.get",{search:n.value,columns:"url",fetch_first:!0})).then(s=>{var a;return d.setItemByUrl(n.value,(a=s.data)==null?void 0:a.data)}).catch(s=>{var a,i;F.fire({title:"Terjadi Kesalahan",text:((i=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:i.message)||"Data product tidak ditemukan",icon:"error",timer:5e3,timerProgressBar:!0,confirmButtonText:"Kembali"}).then(({isConfirmed:r,dismiss:c})=>{(r||c=="timer")&&S()})}).finally(()=>k()),t.value=h.value(n.value)},B=()=>{g.value=t.value,m.value=!0},w=f=>{d.setItemByUrl(n.value,f),b()},k=T(()=>{t.value||b()});return(f,s)=>{var i,r;const a=I("FontAwesomeIcon");return p(),_("div",K,[e("h2",L,u((i=t.value)==null?void 0:i.product_name),1),e("p",W,u((r=t.value)==null?void 0:r.short_location),1),e("div",$,[e("div",M,[e("div",z,[(p(!0),_(V,null,P(t.value.images,(c,U)=>(p(),_("div",{key:U,class:"mr-3"},[e("img",{src:c,alt:`Logo ${t.value.product_name}`,width:"150",height:"150",style:{"object-fit":"cover"}},null,8,G)]))),128)),e("div",J,[e("div",null,u(t.value.description),1),e("div",O,u(t.value.tenant_name),1)])]),e("div",Q,[e("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-info btn-icon mr-2",onClick:B},[x(a,{icon:["fas","edit"],class:"mr-1"}),j(" Ubah ")])])])]),x(C,{visible:m.value,"onUpdate:visible":s[0]||(s[0]=c=>m.value=c),"init-data":g.value,"is-edit":"",onSubmit:w},null,8,["visible","init-data"])])}}};export{te as default};
