import{fk as v,fV as D,fz as V,r as I,c as _,fo as t,ft as u,fq as T,fr as P,fn as S,fS as j,o as h,ho as q,hp as E,hq as F}from"./vee-validate-i18n.esm-1e13155f.js";import{W as N,y as R,V as A}from"./vue-multiselect.esm-6989bf67.js";import{_ as C}from"./ModalForm-4238184a.js";import"./CropperImage-6eb75076.js";const H=N("product-store",{state:()=>({items:{}}),getters:{getSelectedByUrl:o=>n=>o.items[n]||!1},actions:{setItemByUrl(o,n){this.items[o]=n}}}),K={class:"section-body"},L={class:"section-title fs-lg"},$={class:"section-lead"},z={class:"row"},M={class:"col-12"},W={class:"d-flex align-items-start flex-wrap flex-sm-nowrap"},G=["src","alt"],J={class:"flex-1 ml-0 ml-sm-3 d-flex flex-column"},O={class:"fw-500"},Q={class:"action d-flex align-items-center mt-3"},et={__name:"Detail",props:{slug:{type:[String,null],required:!0}},setup(o){const n=o,x=R(),e=v(null),l=D(n,"slug"),d=H(),{getSelectedByUrl:p}=A(d),m=v(!1),g=v({}),y=()=>x.push({name:"settings.product"}),b=()=>{p.value(l.value)||q.get(E("backend.product.get",{search:l.value,columns:"url",fetch_first:!0})).then(s=>{var a;return d.setItemByUrl(l.value,(a=s.data)==null?void 0:a.data)}).catch(s=>{var a,i;F.fire({title:"Terjadi Kesalahan",text:((i=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:i.message)||"Data product tidak ditemukan",icon:"error",timer:5e3,timerProgressBar:!0,confirmButtonText:"Kembali"}).then(({isConfirmed:r,dismiss:c})=>{(r||c=="timer")&&y()})}).finally(()=>w()),e.value=p.value(l.value)},B=()=>{g.value=e.value,m.value=!0},k=f=>{d.setItemByUrl(l.value,f),b()},w=V(()=>{e.value||b()});return(f,s)=>{var i,r;const a=I("FontAwesomeIcon");return h(),_("div",K,[t("h2",L,u((i=e.value)==null?void 0:i.product_name),1),t("p",$,u((r=e.value)==null?void 0:r.short_location),1),t("div",z,[t("div",M,[t("div",W,[(h(!0),_(T,null,P(e.value.images,(c,U)=>(h(),_("div",{key:U,class:"mr-3"},[t("img",{src:c,alt:`Logo ${e.value.product_name}`,width:"150",height:"150",style:{"object-fit":"cover"}},null,8,G)]))),128)),t("div",J,[t("div",null,u(e.value.description),1),t("div",O,u(e.value.tenant_name),1)])]),t("div",Q,[t("a",{href:"javascript:void(0)",rel:"noopener noreferrer",class:"btn btn-info btn-icon mr-2",onClick:B},[S(a,{icon:["fas","edit"],class:"mr-1"}),j(" Ubah ")])])])]),S(C,{visible:m.value,"onUpdate:visible":s[0]||(s[0]=c=>m.value=c),"init-data":g.value,"is-edit":"",onSubmit:k},null,8,["visible","init-data"])])}}};export{et as default};
